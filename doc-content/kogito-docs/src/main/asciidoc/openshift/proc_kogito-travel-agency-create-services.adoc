[id='proc_kogito-travel-agency-create-services']

= Creating the travel agency services using the {PRODUCT} CLI

After you set up the required infrastructures for your travel agency applications, you can create the travel agency services and provision the OpenShift resources required for deployment with the binary build used in this example. You can create the services using the OpenShift web console or using the {PRODUCT} CLI.

This example uses the {PRODUCT} CLI to start the services and the *{PRODUCT} Operator* page in the web console to verify that the services are running.

The travel agency example application includes the following key OpenShift resources:

* `BuildConfig`: Configures the application to support a binary build in addition to a traditional OpenShift build for deployment. In a binary build, you build the application locally and push the built application to the OpenShift build to be packaged into the runtime container image. A binary build enables services to be deployed faster than a traditional OpenShift build and deployment.
* `ImageStream`: Defines the set of container images identified by tags.
* `DeploymentConfig`: Describes the desired state of the application as a pod template.
* `Service`: Functions as a Kubernetes-internal load balancer to serve the application pods.
* `Route`: Exposes the `Service` at a host name.

.Procedure
. In a command terminal, enter the following commands to create {PRODUCT} services for the `kogito-travel-agency` and `kogito-visas` applications:
+
--
.Creating the travel agency service
[source]
----
$ kogito deploy-service kogito-travel-agency --install-infinispan=Always --install-kafka=Always
----

.Creating the visas service
[source]
----
$ kogito deploy-service kogito-visas --install-infinispan=Always --install-kafka=Always
----

When the deployment configuration of this service is generated, the {PRODUCT} Operator automatically configures the environment variables to point to the location of the Kafka and Infinispan environments that you deployed previously. For Kafka messaging, the operator sets the incoming and outgoing messaging channels and properties as needed. For Infinispan persistence, the operator sets the authorization configuration based on the credentials generated by the Infinispan Operator.

NOTE: You can also provide a Git repository location to create your services remotely instead of from a local source. However, this example uses the local applications to demonstrate how to prepare the {PRODUCT} project on a development machine for a direct push to the cloud.

--
. In the OpenShift web console, use the left menu to navigate to *Operators* -> *Installed Operators* -> *{PRODUCT} Operator* -> *{PRODUCT} Service* and verify the new `kogito-travel-agency` and `kogito-visas` services:
+
--
.New travel agency and visas services listed
image::kogito/openshift/kogito-ocp-create-app-listed-agency.png[Image of travel agency and visas services listed in web console]

The new services are available but not yet deployed on OpenShift until you build and deploy the service projects from source using a binary build.
--
